{% extends "layout.html" %}
{% block content %}
<h2>Import Students (CSV)</h2>

<p><strong>Required columns</strong> (case-insensitive): <code>first_name</code>, <code>last_name</code>, <code>email</code>, <code>username</code>, <code>password</code>. <strong>Optional</strong>: <code>student_id</code>, <code>subject_id</code>, <code>group_id</code>.</p>

<form method="post" enctype="multipart/form-data" class="card">
  <label for="file">Choose File</label>
  <input type="file" name="file" id="file" accept=".csv" required>
  <button type="submit">Upload & Import</button>
</form>

{% if messages %}
  <div class="flash-container">
    {% for category, message in messages %}
      <div class="flash {{ category }}">{{ message }}</div>
    {% endfor %}
  </div>
{% endif %}

<details>
  <summary>Sample CSV</summary>
  <pre>
first_name,last_name,email,username,password,group_id
Ali,Ahmad,ali@example.com,ali123,pass123,1
Siti,Nordin,siti@example.com,siti456,pass456,2
John,Doe,john@example.com,john789,pass789,
  </pre>
</details>

<p><a href="{{ url_for('manage_students') }}">‚Üê Back to Students</a></p>
{% endblock %}