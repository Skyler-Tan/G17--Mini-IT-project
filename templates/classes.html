{% extends "layout.html" %}
{% block content %}
<h2>Classes</h2>

<form method="post" class="card">
  <label>New Class</label>
  <input name="name" placeholder="e.g. CS101" required>
  <button type="submit">Create Class</button>
</form>

<table>
  <thead><tr><th>ID</th><th>Name</th><th>Groups</th><th>Actions</th></tr></thead>
  <tbody>
    {% for c in classes %}
      <tr>
        <td>{{ c.id }}</td>
        <td><a href="{{ url_for('manage_groups', class_id=c.id) }}">{{ c.name }}</a></td>
        <td>{{ c.groups|length }}</td>
        <td>
          <form method="post" action="{{ url_for('delete_class', class_id=c.id) }}" onsubmit="return confirm('Delete class and its groups?');">
            <button type="submit">Delete</button>
          </form>
        </td>
      </tr>
    {% endfor %}
  </tbody>
</table>
{% endblock %}